<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Dashboard</title>
</head>
<body>
    <header class="text-gray-600 body-font">
        <div class="container mx-auto flex flex-wrap p-5 flex-col     md:flex-row items-center">
          <a class="flex title-font font-medium items-center text-gray-900 mb-4 md:mb-0">
            <i id="fix-logo" class="fa-solid fa-house-medical-circle-check text-indigo-500 text-2xl"></i>
            <span class="ml-3 text-xl">AutoSystem</span>
          </a>
          <nav class="md:ml-auto md:mr-auto flex flex-wrap items-center text-base justify-center">
            <h1>Wellcome <%= name %> </h1>
          </nav>
          <button onclick="logout()" class="inline-flex border-indigo-500 items-center bg-gray-100 border-0 py-1 px-3 focus:outline-none hover:bg-gray-200 rounded text-base mt-4 md:mt-0">Logout
            <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4 ml-1" viewBox="0 0 24 24">
              <path d="M5 12h14M12 5l7 7-7 7"></path>
            </svg>
          </button>
        </div>
    </header>

    <section class="text-gray-600 body-font">
        <div class="container px-5 py-24 mx-auto">
          <div class="flex flex-wrap -mx-4 -mb-10 text-center">
            <div class="sm:w-1/2 mb-10 px-4">
              <div class="rounded-lg h-64 overflow-hidden">
                <img alt="content" class="object-cover object-center h-full w-full" src="https://images.pexels.com/photos/8376168/pexels-photo-8376168.jpeg?auto=compress&cs=tinysrgb&w=600">
              </div>
              <h2 class="title-font text-2xl font-medium text-gray-900 mt-6 mb-3">Pediatric Medicine</h2>
              <p class="leading-relaxed text-base">consult with the pediatrician regarding the child's health.</p>
              <a id="child"><button class="flex mx-auto mt-6 text-white bg-indigo-500 border-0 py-2 px-5 focus:outline-none hover:bg-indigo-600 rounded">Consult</button></a>
            </div>
            <div class="sm:w-1/2 mb-10 px-4">
              <div class="rounded-lg h-64 overflow-hidden">
                <img alt="content" class="object-cover object-center h-full w-full" src="https://images.pexels.com/photos/4021775/pexels-photo-4021775.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2">
              </div>
              <h2 class="title-font text-2xl font-medium text-gray-900 mt-6 mb-3">General medicine </h2>
              <p class="leading-relaxed text-base">consult with the doctor regarding the General medicine.</p>
              <a id="general"><button class="flex mx-auto mt-6 text-white bg-indigo-500 border-0 py-2 px-5 focus:outline-none hover:bg-indigo-600 rounded">Consult</button></a>
            </div>
          </div>
        </div>
      </section>

      
    <!-- <section class="text-gray-600 body-font">
        <div class="container px-5 py-24 mx-auto">
          <div class="flex flex-wrap -mx-4 -mb-10 text-center">
            <div class="sm:w-1/2 mb-10 px-4">
              <div class="rounded-lg h-64 overflow-hidden">
                <img alt="content" class="object-cover object-center h-full w-full" src="https://images.pexels.com/photos/3845126/pexels-photo-3845126.jpeg?auto=compress&cs=tinysrgb&w=600">
              </div>
              <h2 class="title-font text-2xl font-medium text-gray-900 mt-6 mb-3">Emergency</h2>
              <p class="leading-relaxed text-base">Emergency Treatment 24*7</p>
              <a id="emergency"><button class="flex mx-auto mt-6 text-white bg-indigo-500 border-0 py-2 px-5 focus:outline-none hover:bg-indigo-600 rounded">Consult</button></a>
            </div>
            <div class="sm:w-1/2 mb-10 px-4">
              <div class="rounded-lg h-64 overflow-hidden">
                <img alt="content" class="object-cover object-center h-full w-full" src="https://images.pexels.com/photos/4386466/pexels-photo-4386466.jpeg?auto=compress&cs=tinysrgb&w=600">
              </div>
              <h2 class="title-font text-2xl font-medium text-gray-900 mt-6 mb-3">Health Check-Up</h2>
              <p class="leading-relaxed text-base">consult with the doctor regarding the General medicine.</p>
              <a id="checkup"><button class="flex mx-auto mt-6 text-white bg-indigo-500 border-0 py-2 px-5 focus:outline-none hover:bg-indigo-600 rounded">Consult</button></a>
            </div>
          </div>
        </div>
      </section> -->

      <script>
        // Get the current page's URL
        const url = new URL(window.location.href);
      
        // Use URLSearchParams to get the token and name parameters
        const token = url.searchParams.get('token');
        const name = url.searchParams.get('name');
      
        // Now you can use token and name in your code
        console.log(`Token: ${token}, Name: ${name}`);

        // Get the child button
        const childButton = document.getElementById('child');
        childButton.addEventListener('click', () => {
          // Redirect to the child form page with the token and name parameters
          window.location.href = `/child?name=${name}&token=${token}`;
        });
        const generalButton = document.getElementById('general');
        generalButton.addEventListener('click', () => {
          // Redirect to the general form page with the token and name parameters
          window.location.href = `/general?name=${name}&token=${token}`;
        });
        const emergencyButton = document.getElementById('emergency');
        emergencyButton.addEventListener('click', () => {
          // Redirect to the emergency form page with the token and name parameters
          window.location.href = `/emergency?name=${name}&token=${token}`;
        });
        const checkupButton = document.getElementById('checkup');
        checkupButton.addEventListener('click', () => {
          // Redirect to the checkup form page with the token and name parameters
          window.location.href = `/checkup?name=${name}&token=${token}`;
        });

        const logout = () => {
          fetch('/api/v1/users/logout', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({ token })
          })
          //Redirect to the login page
         window.location.href = '/login';
        };
      </script>

</body>
</html>